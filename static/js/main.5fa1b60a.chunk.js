(this["webpackJsonpmy-app30"]=this["webpackJsonpmy-app30"]||[]).push([[0],{24:function(e,t,c){},26:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(17),s=c.n(r),i=(c(24),c(8)),o=c.n(i),j=c(18),u=c(4),d=c(3),b=(c(26),c(0));function O(e){var t=e.item,c=e.deleted;return Object(b.jsx)("div",{children:Object(b.jsx)("div",{children:Object(b.jsx)("ul",{children:t.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:Object(b.jsx)("a",{href:e.url,children:e.title})}),Object(b.jsx)("span",{children:e.author}),Object(b.jsx)("span",{children:e.num_comments}),Object(b.jsx)("span",{children:e.points}),Object(b.jsx)("span",{children:Object(b.jsx)("button",{onClick:function(){return c(e)},children:"delete"})})]})}))})})})}function l(e){var t=e.onSearch,c=e.searchTerm;return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"search",children:"SEARCH FOR STORIES:"}),Object(b.jsx)("input",{value:c,type:"text",id:"search",onChange:t})]})}var h=c(19),p=c.n(h),S="https://hn.algolia.com/api/v1/search?query=",E=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCESS":return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,isLoading:!1,isError:!1});case"STORIES_FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{data:[],isLoading:!1,isError:!0});case"STORIES_REMOVE":return Object(d.a)(Object(d.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}};var f=function(){var e=function(e,t){var c=Object(n.useState)(localStorage.getItem(e)||t),a=Object(u.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){localStorage.setItem(e,r)})),[r,s]}("customSearchTerm",""),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useReducer)(E,{data:[],isLoading:!1,isError:!1}),s=Object(u.a)(r,2),i=s[0],d=s[1],h=Object(n.useState)("".concat(S).concat(c)),f=Object(u.a)(h,2),m=f[0],x=f[1],g=Object(n.useState)(!1),I=Object(u.a)(g,2),T=I[0],v=(I[1],Object(n.useCallback)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:"STORIES_FETCH_INIT"}),e.prev=1,e.next=4,p.a.get(m);case 4:t=e.sent,d({type:"STORIES_FETCH_SUCESS",payload:t.data.hits}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d({data:"STORIES_FETCH_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[m]));return Object(n.useEffect)((function(){v()}),[v]),Object(n.useEffect)((function(){document.documentElement.setAttribute("data-theme",T?"dark":"light")}),[T]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x("".concat(S).concat(c))},children:[Object(b.jsx)(l,{searchTerm:c,onSearch:function(e){a(e.target.value)}}),Object(b.jsx)("button",{disabled:!c,type:"submit",children:"submit"})]}),Object(b.jsxs)("h3",{children:["SEARCHING FOR:",c]}),i.isLoading?Object(b.jsx)("p",{children:"loading..."}):Object(b.jsx)(O,{item:i.data,deleted:function(e){d({type:"STORIES_REMOVE",payload:e})}}),i.isError&&Object(b.jsx)("p",{children:"something went wrong..."})]})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,47)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),m()}},[[46,1,2]]]);
//# sourceMappingURL=main.5fa1b60a.chunk.js.map